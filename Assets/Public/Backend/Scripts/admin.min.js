(()=>{var e={209:()=>{function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}jQuery(document).ready((function(t){new(function(){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.mange_tables=t("#manage_tables"),this.create_table=t("#create_tables"),this.events()}var r,o;return r=n,(o=[{key:"events",value:function(){this.show_manage_tables()}},{key:"show_manage_tables",value:function(){this.mange_tables.DataTable({columnDefs:[{targets:[0,5],orderable:!1}],order:[]}),this.create_table.DataTable({order:[]})}}])&&e(r.prototype,o),n}())}))}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(209);var t=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.sheet_form=$("#gswpts_create_table"),this.sheet_details=$("#sheet_details"),this.sheet_container=$("#spreadsheet_container")}var n,r;return n=t,(r=[{key:"call_alert",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bottom-right";$.suiAlert({title:e,description:t,type:n,time:r,position:o})}},{key:"html_loader",value:function(){return'\n                <div class="ui segment" style="width: 102%; min-height: 400px; margin-left: -5px;">\n                    <div class="ui active inverted dimmer">\n                        <div class="ui large text loader">Loading</div>\n                    </div>\n                    <p></p>\n                    <p></p>\n                    <p></p>\n                </div>\n            '}},{key:"sheet_details_html",value:function(e){return'\n                <div id="sheet_ui_card" class="ui card" style="width: 60%; min-width: 400px;">\n                    <div class="content">\n                        <div class="row">\n                            <div class="col-12 d-flex align-items-center justify-content-start mb-3">\n                                <h4 class="m-0">Sheet Name: </h4>\n                                <h5 class="m-0 ml-2">'.concat(e.sheet_data.sheet_name,'</h5>\n                            </div>\n                            <div class="col-12 d-flex align-items-center justify-content-start mb-3">\n                                <h4 class="m-0">Total Rows: </h4>\n                                <h5 class="m-0 ml-2">').concat(e.sheet_data.total_rows,'</h5>\n                            </div>\n                            <div class="col-12 d-flex align-items-center justify-content-start mb-3">\n                                <h4 class="m-0">Total Result: </h4>\n                                <h5 class="m-0 ml-2">').concat(e.sheet_data.sheet_total_result,'</h5>\n                            </div>\n                            <div class="col-12 d-flex align-items-center justify-content-start">\n                                <h4 class="m-0">Author Mail: </h4>\n                                <h5 class="m-0 ml-2">').concat(e.sheet_data.author_info[0].email.$t,'</h5>\n                            </div>\n                            <div id="shortcode_container" style="display: none !important;" class="col-12 d-flex mt-3 align-items-center justify-content-start transition hidden">\n                                <h4 class="m-0">Table Shortcode: </h4>\n                                <h5 class="m-0 ml-2">\n                                    <div class="ui action input">\n                                        <input id="sortcode_value" type="text" class="copyInput" value="">\n                                        <button id="sortcode_copy" type="button" name="copyToken" value="copy" class="copyToken ui right icon button">\n                                            <i class="clone icon"></i>\n                                        </button>\n                                    </div>\n                                </h5>\n                            </div>\n                        </div>\n                    </div>\n            </div>\n            ')}},{key:"show_shortcode",value:function(e){$("#shortcode_container").removeAttr("style"),$("#shortcode_container").transition("scale"),$("#sortcode_value").val("[gswpts_table id=".concat(e,"]"))}},{key:"btn_changer",value:function(e,t,n){e.html("\n                            ".concat(t,"\n                        ")),e.attr("req-type",n)}},{key:"get_slug_parameter",value:function(e){var t=new URL(window.location);return new URLSearchParams(t.search).get(e)||!1}}])&&e(n.prototype,r),t}();function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}jQuery(document).ready((function(e){new(function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(f,t);var n,r,i,l,u=(i=f,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(i);if(l){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function f(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(e=u.call(this)).sheet_url="",e.events(),e}return n=f,(r=[{key:"events",value:function(){var t=this;this.sheet_form.on("submit",(function(e){t.handle_submit(e)})),e(document).on("click","#sortcode_copy",(function(e){t.copy_shorcode(e)})),e(document).on("click","#create_button",(function(e){t.clear_fields()}))}},{key:"handle_submit",value:function(t){var n=this;t.preventDefault();var r=e(t.currentTarget).find("button"),o=e(t.currentTarget).find("input[name=table_name]"),a=e(t.currentTarget).serialize();this.sheet_url!=e(t.currentTarget).find("input[name=sheet_url]").val()?e.ajax({url:file_url.admin_ajax,data:{action:"gswpts_sheet_create",form_data:a,type:r.attr("req-type")},type:"post",beforeSend:function(){"fetch"==r.attr("req-type")?(n.btn_changer(r,'\n                            Fetching Data &nbsp;\n                            <div class="ui active mini inline loader"></div>\n                        ',"fetch"),n.sheet_container.html(n.html_loader)):("saved"==r.attr("req-type")&&e("#shortcode_container").transition("scale"),n.btn_changer(r,'\n                                Saving Table &nbsp;\n                                <div class="ui active mini inline loader"></div>\n                            ',"fetch"))},success:function(e){if(console.log(e),"invalid_action"!=JSON.parse(e).response_type&&"invalid_request"!=JSON.parse(e).response_type||(n.call_alert("Error &#128683;",JSON.parse(e).output,"error",4),n.btn_changer(r,"Fetch Data","fetch"),n.clear_fields(),n.sheet_container.html("")),"empty_field"==JSON.parse(e).response_type&&(n.call_alert("Warning &#9888;&#65039;",JSON.parse(e).output,"warning",3),n.btn_changer(r,"Fetch Data","fetch"),n.sheet_container.html("")),"success"==JSON.parse(e).response_type&&(n.sheet_details.addClass("mt-5 p-3"),n.sheet_details.html(n.sheet_details_html(JSON.parse(e))),n.sheet_details.transition("scale"),n.sheet_container.html(JSON.parse(e).output)),"saved"==JSON.parse(e).response_type){n.btn_changer(r,"Table Saved","saved"),n.call_alert("Successfull &#128077;",JSON.parse(e).output,"success",3);var t=Object.values(JSON.parse(e).id)[0];n.show_shortcode(t),n.sheet_url=JSON.parse(e).sheet_url,n.show_create_btn(),n.push_parameter(t)}"sheet_exists"==JSON.parse(e).response_type&&(n.call_alert("Warning &#9888;&#65039;",JSON.parse(e).output,"warning",3),n.btn_changer(r,"Save Table","save"))},complete:function(t){if("success"==JSON.parse(t.responseText).response_type){e("#create_tables").DataTable({order:[]}),n.btn_changer(r,"Save Table","save");var a=JSON.parse(t.responseText);""!=o.val()&&o.val()||o.val(a.sheet_data.sheet_name),setTimeout((function(){n.call_alert("Successfull &#128077;","<b>Google Sheet data fetched successfully</b>","success",3)}),700)}},error:function(e){n.call_alert("Error &#128683;","<b>Something went wrong</b>","error",3),n.btn_changer(r,"Fetch Data","fetch"),n.sheet_container.html("")}}):this.call_alert("Warning &#9888;&#65039;","<b>This SpreadSheet already exists. Try new one</b>","warning",3)}},{key:"copy_shorcode",value:function(t){var n=e(t.currentTarget).siblings("input");n.focus(),n.select(),document.execCommand("copy"),this.call_alert("Copied &#128077;","Sortcode copied successfully","info",2)}},{key:"show_create_btn",value:function(){e("#create_button_container").hasClass("mt-4")&&e("#create_button").hasClass("visible")||(e("#create_button_container").addClass("mt-4"),e("#create_button").transition("scale"))}},{key:"clear_fields",value:function(){var t=this;this.sheet_form.find("input[name=sheet_url], input[name=table_name]").val(""),e("#sheet_ui_card").transition("scale"),e("#create_tables_wrapper").transition("scale"),this.btn_changer(this.sheet_form.find("button"),"Fetch Data","fetch"),this.sheet_url="",setTimeout((function(){t.sheet_details.transition("scale"),e("#sheet_ui_card").remove(),e("#create_tables_wrapper").remove()}),300)}},{key:"push_parameter",value:function(e){var t=new URL(window.location);t.searchParams.set("id",e),window.history.pushState({},"",t)}}])&&o(n.prototype,r),f}(t))})),jQuery(document).ready((function(e){new(function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(c,t);var n,r,o,a,s=(o=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(o);if(a){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function c(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this)).sheet_skeleton=e(".gswpts_sheet_details_skeleton"),t.input_skeleton=e(".gswpts_input_skeleton"),t.input_form_container=e(".gswpts_form_container"),t.events(),t}return n=c,(r=[{key:"events",value:function(){this.fetch_data_by_id()}},{key:"fetch_data_by_id",value:function(){var t=this;this.get_slug_parameter("id")&&e.ajax({url:file_url.admin_ajax,data:{action:"gswpts_sheet_fetch",id:this.get_slug_parameter("id")},type:"post",success:function(n){console.log(JSON.parse(n)),"invalid_action"!=JSON.parse(n).response_type&&"invalid_request"!=JSON.parse(n).response_type||(t.input_skeleton.transition("scale"),t.sheet_skeleton.transition("scale"),t.sheet_container.html(""),t.call_alert("Error &#128683;",JSON.parse(n).output,"error",4)),"success"==JSON.parse(n).response_type&&(e("#create_button").removeAttr("disabled"),t.input_skeleton.transition("scale"),t.sheet_skeleton.transition("scale"),t.sheet_details.addClass("mt-5 p-3"),setTimeout((function(){t.input_form_container.transition("scale"),t.input_form_container.find("input[name=sheet_url]").val(JSON.parse(n).table_data.sheet_url),t.input_form_container.find("input[name=table_name]").val(JSON.parse(n).table_data.table_name),t.sheet_details.html(t.sheet_details_html(JSON.parse(n))),t.sheet_details.transition("scale"),t.show_shortcode(t.get_id_parameter())}),400),t.sheet_container.html(JSON.parse(n).output))},error:function(e){t.call_alert("Error &#128683;","<b>Something went wrong</b>","error",3),t.sheet_container.html("")},complete:function(n){"success"==JSON.parse(n.responseText).response_type&&(e("#create_tables").DataTable({order:[]}),setTimeout((function(){t.call_alert("Successfull &#128077;","<b>Google Sheet data fetched successfully</b>","success",3)}),700))}})}}])&&l(n.prototype,r),c}(t))})),jQuery(document).ready((function(e){new(function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(c,t);var n,r,o,a,s=(o=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(o);if(a){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function c(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this)).table_container=e("#gswpts_tables_container"),t.checkbox_switcher=!1,t.events(),t}return n=c,(r=[{key:"events",value:function(){var t=this;this.fetch_data_by_page(),e(document).on("click",".gswpts_sortcode_copy",(function(e){t.copy_shorcode(e)})),e(document).on("click","#manage_tables_checkbox",(function(e){t.toggle_content(e)}))}},{key:"fetch_data_by_page",value:function(){var t=this;this.get_slug_parameter("page")&&"gswpts-tables"===this.get_slug_parameter("page")&&e.ajax({url:file_url.admin_ajax,data:{action:"gswpts_table_fetch",page_slug:this.get_slug_parameter("page")},type:"post",success:function(e){console.log(JSON.parse(e)),"invalid_action"!=JSON.parse(e).response_type&&"invalid_request"!=JSON.parse(e).response_type||(t.table_container.html(""),t.call_alert("Error &#128683;",JSON.parse(e).output,"error",4)),"success"==JSON.parse(e).response_type&&t.table_container.html(JSON.parse(e).output)},error:function(e){t.call_alert("Error &#128683;","<b>Something went wrong</b>","error",3),t.sheet_container.html("")},complete:function(n){"success"==JSON.parse(n.responseText).response_type&&(e("#manage_tables").DataTable({columnDefs:[{targets:[0,5],orderable:!1}],order:[]}),setTimeout((function(){t.call_alert("Successfull &#128077;","<b>All SpreadSheet Tables Fetched Successfully</b>","success",3)}),700))}})}},{key:"copy_shorcode",value:function(t){var n=e(t.currentTarget).siblings("input");n.attr("type","text"),n.focus(),n.select(),document.execCommand("copy"),n.attr("type","hidden"),this.call_alert("Copied &#128077;","Sortcode copied successfully","info",2)}},{key:"toggle_content",value:function(t){console.log(e(t.currentTarget).attr("data-show")),"false"==e(t.currentTarget).attr("data-show")&&(e("#delete_button_container").addClass("mt-4"),e("#delete_button").transition("scale"),this.check_all_checkbox(),this.checkbox_switcher=!0),"true"==e(t.currentTarget).attr("data-show")&&(e("#delete_button").transition("scale"),setTimeout((function(){e("#delete_button_container").removeClass("mt-4")}),300),this.uncheck_all_checkbox(),this.checkbox_switcher=!1),e(t.currentTarget).attr("data-show",""+this.checkbox_switcher)}},{key:"check_all_checkbox",value:function(){e(".manage_tables_checkbox").prop("checked",!0)}},{key:"uncheck_all_checkbox",value:function(){e(".manage_tables_checkbox").prop("checked",!1)}}])&&h(n.prototype,r),c}(t))})),jQuery(document).ready((function(e){new(function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(c,t);var n,r,o,a,s=(o=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(o);if(a){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return w(this,e)});function c(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(e=s.call(this)).events(),e}return n=c,(r=[{key:"events",value:function(){var t=this;e(document).on("click",".gswpts_table_delete_btn",(function(e){alert("hello")})),e(document).on("click",".gswpts_edit_table",(function(e){t.edit_table_name(e)})),e(document).on("click",".gswpts_popup_edit",(function(e){t.edit_tag_value(e)}))}},{key:"delete_table",value:function(){var t=this;e.ajax({url:file_url.admin_ajax,data:{action:"gswpts_ud_table",id:null},type:"post",success:function(e){console.log(JSON.parse(e))},error:function(e){t.call_alert("Error &#128683;","<b>Something went wrong</b>","error",3)}})}},{key:"edit_table_name",value:function(t){e(".gswpts_modal").hasClass("hidden")?(e(".gswpts_input_table_name").val(this.get_table_name(t)),e(".gswpts_modal").transition("fade up"),this.set_target_class(t)):(e(".gswpts_input_table_name").val(this.get_table_name(t)),this.set_target_class(t))}},{key:"get_table_name",value:function(t){return e(t.currentTarget).siblings("a").text()}},{key:"set_target_class",value:function(t){e(".table_name").removeClass("edit_tag"),e(t.currentTarget).siblings("a").addClass("edit_tag")}},{key:"edit_tag_value",value:function(t){var n=e(t.currentTarget).siblings("input").val();e(".edit_tag").html(n),e(t.currentTarget).parent().parent().transition("fade up")}}])&&v(n.prototype,r),c}(t))})),jQuery(document).ready((function(){$(".gswpts_main_loader").transition("scale"),$(".gswpts_content_container").transition("fade")}))})()})();
//# sourceMappingURL=admin.min.js.map