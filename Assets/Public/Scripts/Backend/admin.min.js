!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.sheet_form=e("#gswpts_create_table"),this.sheet_details=e("#sheet_details"),this.sheet_container=e("#spreadsheet_container"),this.isProPluginActive()?this.settings_field=e("#show_title, \n                #rows_per_page, \n                #info_block, \n                #responsive, \n                #show_entries, \n                #swap_filter_inputs, \n                #swap_bottom_options, \n                #sorting, \n                #search_table, \n                #table_exporting, \n                #vertical_scrolling,\n                #cell_format,\n                #table_style,\n                #hide_column\n                "):this.settings_field=e("#show_title, #rows_per_page, #info_block, #show_entries, #swap_filter_inputs, #swap_bottom_options, #sorting, #search_table")}var n,o;return n=t,(o=[{key:"call_alert",value:function(e,t,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bottom-right";$.suiAlert({title:e,description:t,type:n,time:o,position:r})}},{key:"isProPluginActive",value:function(){return!!file_url.isProActive}},{key:"html_loader",value:function(){return'\n               <div class="ui segment gswpts_table_loader">\n                        <div class="ui active inverted dimmer">\n                            <div class="ui large text loader">Loading</div>\n                        </div>\n                        <p></p>\n                        <p></p>\n                        <p></p>\n                </div>\n            '}},{key:"sheet_details_html",value:function(e){return'\n                <div id="sheet_ui_card" class="ui card" style="min-width: 360px;">\n                    <div class="content">\n                        <div class="row">\n                            <div id="shortcode_container" style="display: none !important;" class="col-12 d-flex align-items-center justify-content-center transition hidden">\n                                <h6 class="m-0" style="white-space: nowrap;font-weight: bold;">Table Shortcode: </h6>\n                                <h6 class="m-0 ml-2">\n                                    <div class="ui action input">\n                                        <input id="sortcode_value" type="text" class="copyInput" value="">\n                                        <button id="sortcode_copy" type="button" name="copyToken" value="copy" class="copyToken ui right icon button">\n                                            <i class="clone icon"></i>\n                                        </button>\n                                    </div>\n                                </h6>\n                            </div>\n                        </div>\n                    </div>\n            </div>\n            '}},{key:"show_shortcode",value:function(e){$("#shortcode_container").removeAttr("style"),$("#shortcode_container").transition("scale"),$("#sortcode_value").val("[gswpts_table id=".concat(e,"]"))}},{key:"copy_shorcode",value:function(e){var t=$(e.currentTarget).siblings("input");t.attr("type","text"),t.focus(),t.select(),document.execCommand("copy"),t.attr("type","hidden"),this.call_alert("Copied &#128077;","<b>Sortcode copied successfully</b>","info",2)}},{key:"btn_changer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.html("\n                            ".concat(t,"\n                        ")),!1!==n&&e.attr("req-type",n)}},{key:"get_slug_parameter",value:function(e){var t=new URL(window.location);return new URLSearchParams(t.search).get(e)||!1}},{key:"table_settings_obj",value:function(){var e={tableTitle:$("#show_title").prop("checked"),defaultRowsPerPage:"all"==$("#rows_per_page").find("input[name=rows_per_page]").val()?-1:$("#rows_per_page").find("input[name=rows_per_page]").val(),showInfoBlock:$("#info_block").prop("checked"),showXEntries:$("#show_entries").prop("checked"),swapFilterInputs:$("#swap_filter_inputs").prop("checked"),swapBottomOptions:$("#swap_bottom_options").prop("checked"),allowSorting:$("#sorting").prop("checked"),searchBar:$("#search_table").prop("checked")};return this.isProPluginActive()&&(e.responsiveStyle=$("#responsive_style").find("input[name=responsive_style]").val(),e.tableExport=$("#table_exporting").val().split(",")||null,e.verticalScroll=$("#vertical_scrolling").find("input[name=vertical_scrolling]").val(),e.cellFormat=$("#cell_format").find("input[name=cell_format]").val(),e.redirectionType=$("#redirection_type").find("input[name=redirection_type]").val(),e.tableCache=$("#table_cache").prop("checked"),e.tableStyle=$("#table_style").val(),e.hideColumn=$("#hide_column").val()?JSON.parse($("#hide_column").val()):"",e.hideRows=$("#hide_rows").val()&&JSON.parse($("#hide_rows").val()).length?JSON.parse($("#hide_rows").val()):""),e}},{key:"default_settings",value:function(){return{tableTitle:!1,defaultRowsPerPage:10,showInfoBlock:!0,responsiveTable:!1,showXEntries:!0,swapFilterInputs:!1,swapBottomOptions:!1,allowSorting:!0,searchBar:!0,tableExport:null,verticalScroll:null,cellFormat:"expanded",tableCache:!1,tableStyle:null,hideColumn:null,hideRows:null}}},{key:"table_changer",value:function(e,t,n){$("#create_tables").DataTable(this.table_object(e,n,t))}},{key:"swap_filter_inputs",value:function(e){e?($("#filtering_input").css("flex-direction","row-reverse"),$("#create_tables_length").css({"margin-right":"0","margin-left":"auto"}),$("#create_tables_filter").css({"margin-left":"0","margin-right":"auto"})):($("#filtering_input").css("flex-direction","row"),$("#create_tables_length").css({"margin-right":"auto","margin-left":"0"}),$("#create_tables_filter").css({"margin-left":"auto","margin-right":"0"}))}},{key:"swap_bottom_options",value:function(e){$("#bottom_options .pagination.menu");var t={flex_direction:"row-reverse",table_info_style:{margin_right:0,margin_left:"auto"},table_paginate_style:{margin_right:"auto",margin_left:0}};e||(t.flex_direction="row",t.table_info_style.margin_left=0,t.table_info_style.margin_right="auto",t.table_paginate_style.margin_left="auto",t.table_paginate_style.margin_right=0),this.bottom_option_style(t)}},{key:"overflow_menu_style",value:function(){$("#bottom_options").css("flex-direction","column"),$("#create_tables_info").css({margin:"5px auto"}),$("#create_tables_paginate").css({margin:"5px auto"})}},{key:"bottom_option_style",value:function(e){$("#bottom_options").css("flex-direction",e.flex_direction),$("#create_tables_info").css({"margin-left":e.table_info_style.margin_left,"margin-right":e.table_info_style.margin_right}),$("#create_tables_paginate").css({"margin-left":e.table_paginate_style.margin_left,"margin-right":e.table_paginate_style.margin_right})}},{key:"export_buttons_row_revealer",value:function(e){var t=this;e&&e.forEach((function(e){setTimeout((function(){t.export_button_revealer_by_other_input(e)}),300)}))}},{key:"export_button_revealer_by_other_input",value:function(e){$("."+e+"_btn").hasClass("hidden")&&$("."+e+"_btn").transition("scale")}},{key:"table_object",value:function(e,t,n){var o={dom:t,order:[],responsive:!0,lengthMenu:[[1,5,10,15],[1,5,10,15]],pageLength:parseInt(n.defaultRowsPerPage),lengthChange:!0,ordering:n.allowSorting,destroy:!0,scrollX:!0};return this.isProPluginActive()&&(o.buttons=[{text:'JSON &nbsp;<img src="'.concat(file_url.iconsURL.curlyBrackets,'" />'),className:"ui inverted yellow button transition hidden json_btn",action:function(t,n,o,r){var a=n.buttons.exportData();$.fn.dataTable.fileSave(new Blob([JSON.stringify(a)]),"".concat(e,".json"))}},{text:'PDF &nbsp;<img src="'.concat(file_url.iconsURL.filePdf,'" />'),extend:"pdf",className:"ui inverted red button transition hidden pdf_btn",title:"".concat(e)},{text:'CSV &nbsp;<img src="'.concat(file_url.iconsURL.fileCSV,'" />'),extend:"csv",className:"ui inverted green button transition hidden csv_btn",title:"".concat(e)},{text:'Excel &nbsp;<img src="'.concat(file_url.iconsURL.fileExcel,'" />'),extend:"excel",className:"ui inverted green button transition hidden excel_btn",title:"".concat(e)},{text:'Print &nbsp;<img src="'.concat(file_url.iconsURL.printIcon,'" />'),extend:"print",className:"ui inverted secondary button transition hidden print_btn",title:"".concat(e)},{text:'Copy &nbsp;<img src="'.concat(file_url.iconsURL.copySolid,'" />'),extend:"copy",className:"ui inverted violet button transition hidden copy_btn",title:"".concat(e)}],o.lengthMenu=[[1,5,10,15,25,50,100,-1],[1,5,10,15,25,50,100,"All"]],"default"!=n.verticalScroll&&(o.scrollY="".concat(n.verticalScroll,"px")),"desktop"===this.screenSize()?n.hideColumn&&(o.columnDefs=this.hideColumnByScreen(n.hideColumn.desktopValues)):n.hideColumn&&(o.columnDefs=this.hideColumnByScreen(n.hideColumn.mobileValues))),o}},{key:"hideColumnByScreen",value:function(e){return[{targets:this.convertArrayStringToInteger(e),visible:!1,searchable:!1}]}},{key:"screenSize",value:function(){return screen.width>740?"desktop":"mobile"}},{key:"convertArrayStringToInteger",value:function(e){return e?e.map((function(e){return parseInt(e)})):[]}},{key:"reconfigure_input_fields",value:function(e){$("#show_title").prop("checked","true"==e.table_title),$("#rows_per_page").dropdown("set selected","-1"==e.default_rows_per_page?"all":e.default_rows_per_page),$("#info_block").prop("checked","true"==e.show_info_block),$("#show_entries").prop("checked","true"==e.show_x_entries),$("#swap_filter_inputs").prop("checked","true"==e.swap_filter_inputs),$("#swap_bottom_options").prop("checked","true"==e.swap_bottom_options),$("#sorting").prop("checked","true"==e.allow_sorting),$("#search_table").prop("checked","true"==e.search_bar),this.isProPluginActive()&&($("#responsive_style").dropdown("set selected",e.responsive_style),$("#vertical_scrolling").dropdown("set selected",e.vertical_scroll),"empty"!=e.table_export&&e.table_export&&e.table_export.forEach((function(e){$("#table_exporting_container").dropdown("set selected",e)})),$("#cell_format").dropdown("set selected",e.cell_format),$("#redirection_type").dropdown("set selected",e.redirection_type),$("#table_cache").prop("checked","true"==e.table_cache),e.table_style&&($("#table_style").val(e.table_style),$(".styleWrapper").find("label[for=".concat(e.table_style,"]")).addClass("active"),this.tableStyle(e.table_style)),e.hide_column&&($("#hide_column").val(JSON.stringify(e.hide_column)),e.hide_column.desktopValues&&e.hide_column.desktopValues.forEach((function(e){$("#desktop-hide-columns").dropdown("set selected",e)})),e.hide_column.mobileValues&&e.hide_column.mobileValues.forEach((function(e){$("#mobile-hide-columns").dropdown("set selected",e)}))),e.hide_rows&&($("#hide_rows").val(JSON.stringify(e.hide_rows)),e.hide_rows.forEach((function(e){$("#hidden_rows").dropdown("set selected",e)}))))}},{key:"tableStyle",value:function(e){if(file_url.tableStyles)for(var t in file_url.tableStyles)$("#spreadsheet_container").removeClass("gswpts_".concat(t));$("#spreadsheet_container").addClass("gswpts_".concat(e))}},{key:"changeCellFormat",value:function(e,t){var n=$("".concat(t," th, td"));switch(e){case"wrap":$.each(n,(function(e,t){$(t).removeClass("clip_style"),$(t).removeClass("expanded_style"),$(t).addClass("wrap_style")}));break;case"expand":$.each(n,(function(e,t){$(t).removeClass("clip_style"),$(t).removeClass("wrap_style"),$(t).addClass("expanded_style")}))}}},{key:"bindDragScroll",value:function(e,t){var n=$(window),o=0,r=0,a=0,i=0;function s(n){if(e.hasClass("down")){var r=n.pageX,a=(n.pageY,r-o);t[0].scrollLeft-=a,o=r}}function c(o){n.off("mousemove",s),n.off("mouseup",c);var l=Date.now()-i,u=o.pageX-r,p=o.pageY-a;l<=300&&t.stop().animate({scrollTop:"-="+3*p,scrollLeft:"-="+3*u},500,(function(e,t,n,o,r){return o*Math.sqrt(1-(t=t/r-1)*t)+n})),i=0,e.removeClass("down")}e.on("mousedown",(function(t){0===t.button&&(i=Date.now(),o=r=t.pageX,a=t.pageY,e.addClass("down"),n.on("mousemove",s),n.on("mouseup",c),t.preventDefault())})),e.on("click",(function(e){if(r!==e.pageX||a!==e.pageY)return e.preventDefault(),!1})),t.on("mousewheel",(function(e){e=e.originalEvent;var n=t.scrollLeft(),o=t[0].scrollWidth-t[0].offsetWidth,r=e.deltaX||e.wheelDeltaX;(r>0?n>=o:n<=0)&&r&&e.preventDefault()}))}},{key:"addGrabCursonOnMouseDown",value:function(e){e.mousedown((function(t){e.css({cursor:"grab"})})),e.mouseup((function(t){e.css({cursor:"auto"})}))}},{key:"addDraggingAbility",value:function(){if(this.isProPluginActive()){var e=$("#spreadsheet_container .dataTables_scroll"),t=$("#spreadsheet_container .dataTables_scrollBody");this.bindDragScroll(e,t),this.addGrabCursonOnMouseDown($("#create_tables"))}}},{key:"insertColumnValueToInput",value:function(e){var t=$("#desktop-hide-columns"),n=$("#mobile-hide-columns");$.each([t,n],(function(t,n){var o=$(n).find(".menu");e&&e.forEach((function(e,t){file_url.isProActive?o.append('\n                            <div class="item" data-value="'.concat(t,'">\n                                ').concat(e||"&nbsp;","\n                            </div>\n                         ")):o.append('\n                            <div class="item pro_feature_input pro_column_select" data-value="'.concat(t,'">\n                                ').concat(e||"&nbsp;","\n                            </div>\n                        "))})),$(n).dropdown()}))}},{key:"insertHiddenRowsToSelectBox",value:function(e){var t=$("#hidden_rows"),n=t.find(".menu");e&&this.isProPluginActive()&&(n.find("[data-value=".concat(e,"]")).length||n.append('\n                        <div class="item" data-value="'.concat(e,'">\n                            Row ').concat(e?"#".concat(e):"&nbsp;","\n                        </div>\n                    ")),setTimeout((function(){t.dropdown("set selected",e)}),400))}},{key:"insertHiddenRowsToInputBox",value:function(e){var t,n=[],o=$("#hide_rows");o.val()?((n=JSON.parse(o.val())).push(e),t=JSON.stringify(n),o.val(t)):(n.push(e),t=JSON.stringify(n),o.val(t))}}])&&e(n.prototype,o),t}();function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}jQuery(document).ready((function(e){new(function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(p,t);var n,s,c,l,u=(c=p,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=i(c);if(l){var n=i(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function p(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=u.call(this,e)).sortcode_copy_btn=e(".dashboard_sortcode_copy_btn"),t.form=e("#subscriber-form"),t.events(),t}return n=p,(s=[{key:"events",value:function(){var e=this;this.sortcode_copy_btn.on("click",(function(t){e.copy_shorcode(t)})),"gswpts-recommendation"==this.get_slug_parameter("page")&&this.retrieve_other_products()}},{key:"retrieve_other_products",value:function(){var t=this;e.ajax({url:file_url.admin_ajax,data:{action:"gswpts_product_fetch"},type:"post",beforeSend:function(){e(".other_products_section").html('\n                             <div class="ui segment gswpts_loader" style="width: 100%;">\n                                    <div class="ui active inverted dimmer">\n                                        <div class="ui massive text loader"></div>\n                                    </div>\n                                    <p></p>\n                                    <p></p>\n                                    <p></p>\n                            </div>\n                    ')},success:function(t){console.log(t),e(".other_products_section").html(t)},error:function(n){e(".other_products_section").html(""),t.call_alert("Error &#128683;","<b>Something went wrong on fetching related products</b>","error",3)}})}}])&&o(n.prototype,s),p}(t))})),jQuery(document).ready((function(e){new(function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,t);var n,o,r,a,i=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(r);if(a){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function s(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).fetch_and_save_button=e("#fetch_save_btn"),t.sheet_url="",t.fileInput=e("#file_input"),"create-table"==t.get_slug_parameter("subpage")&&t.events(),t}return n=s,(o=[{key:"events",value:function(){var t=this;this.initDropdownSelect(),this.fileInput.on("input",(function(e){t.show_fetch_btn(e)})),e(document).on("click","#fetch_save_btn",(function(e){t.handle_submit(e)})),e(document).on("click","#sortcode_copy",(function(e){t.copy_shorcode(e)})),e(document).on("click","#create_button",(function(e){t.clear_fields()})),e(document).on("click","#next-setting",(function(e){t.goToNextSetting(e)})),e(".edit_table_name").on("click",(function(e){t.edit_table_name(e)}))}},{key:"initDropdownSelect",value:function(){e("#table_type").length&&e("#table_type").dropdown(),e("#rows_per_page").length&&e("#rows_per_page").dropdown("set selected","10"),e("#vertical_scrolling").length&&e("#vertical_scrolling").dropdown(),e("#cell_format").length&&e("#cell_format").dropdown(),e("#redirection_type").length&&e("#redirection_type").dropdown(),e("#responsive_style").length&&e("#responsive_style").dropdown("set selected","collapse_style"),e("#table_type").find("input[name=source_type]").val("spreadsheet")}},{key:"edit_table_name",value:function(t){e(t.currentTarget).siblings("input").select()}},{key:"show_fetch_btn",value:function(t){e("#fetch_save_btn").hasClass("hidden")&&e("#fetch_save_btn").transition("scale")}},{key:"handle_submit",value:function(t){var n=this;t.preventDefault();var o=e(t.currentTarget),r=e("#table_name").val(),a=this.sheet_form.serialize();""!=this.sheet_form.find("input[name=file_input]").val()?e.ajax({url:file_url.admin_ajax,data:{action:"gswpts_sheet_create",form_data:a,table_name:r,table_settings:this.table_settings_obj(),id:this.get_slug_parameter("id"),type:o.attr("req-type")},type:"post",beforeSend:function(){if("fetch"==o.attr("req-type"))n.btn_changer(o,'\n                            Fetching Data &nbsp;\n                            <div class="ui active mini inline loader"></div>\n                        ',"fetch"),n.sheet_container.html(n.html_loader);else{var e='\n                                Saving Table &nbsp;\n                                <div class="ui active mini inline loader"></div>\n                            ';"save_changes"==o.attr("req-type")&&(e='\n                                Saving Changes &nbsp;\n                                <div class="ui active mini inline loader"></div>\n                            '),n.btn_changer(o,e,"save")}},success:function(t){if("invalid_action"!=JSON.parse(t).response_type&&"invalid_request"!=JSON.parse(t).response_type||(n.call_alert("Error &#128683;",JSON.parse(t).output,"error",5),n.btn_changer(o,"Fetch Data","fetch"),n.clear_fields(),n.sheet_container.html("")),"empty_field"==JSON.parse(t).response_type&&(n.call_alert("Warning &#9888;&#65039;",JSON.parse(t).output,"warning",3),n.btn_changer(o,"Fetch Data","fetch"),n.sheet_container.html("")),"success"==JSON.parse(t).response_type&&(e(".tables_settings").attr("data-btn-text","Save Table"),e(".tables_settings").attr("data-attr-text","save"),e(".disabled_checkbox").removeClass("disabled_checkbox"),e(".secondary_inputs").attr("disabled",!1),n.sheet_details.transition("scale"),n.sheet_container.parent().removeClass("mt-4").addClass("mt-3"),n.sheet_container.html(JSON.parse(t).output),n.insertColumnValueToInput(JSON.parse(t).tableColumns)),"saved"==JSON.parse(t).response_type){n.btn_changer(o,"Table Saved","saved"),n.sheet_details.addClass("mt-4 p-0"),n.sheet_details.html(n.sheet_details_html(JSON.parse(t))),n.call_alert("Successfull &#128077;",JSON.parse(t).output,"success",3);var r=Object.values(JSON.parse(t).id)[0];n.show_shortcode(r),n.sheet_url=JSON.parse(t).sheet_url,e("#create_button").addClass("visible"),n.push_parameter(r),e("#gswpts_tabs ul li").addClass("tables_settings")}"updated"==JSON.parse(t).response_type&&(n.btn_changer(o,"\n                                Save Changes\n                            ","save_changes"),n.call_alert("Successfull &#128077;",JSON.parse(t).output,"success",3)),"sheet_exists"==JSON.parse(t).response_type&&(n.call_alert("Warning &#9888;&#65039;",JSON.parse(t).output,"warning",3),n.btn_changer(o,"Save Table","save"))},complete:function(t){if("success"==JSON.parse(t.responseText).response_type){var r=n.default_settings(),a=e("#table_name").val(),i=(r.defaultRowsPerPage,r.allowSorting,'<"#filtering_input"lf>rt<"#bottom_options"ip>');n.isProPluginActive()&&(i='B<"#filtering_input"lf>rt<"#bottom_options"ip>'),e("#create_tables").DataTable(n.table_object(a,i,r)),n.addDraggingAbility(),n.changeBtnOnCondition(o),o.css({backgroundColor:"#f2711c"}),setTimeout((function(){n.call_alert("Successfull &#128077;","<b>Google Sheet data fetched successfully</b>","success",3),n.isProPluginActive()||n.call_alert("Warning &#9888;&#65039;","<b>Live sync is limited to 50 rows.<br/><a target='blank' href='https://go.wppool.dev/DoC'>Upgrade to Pro</a> for showing full google sheet.</b>","warning",10)}),700)}},error:function(e){n.call_alert("Error &#128683;","<b>Something went wrong</b>","error",3),n.btn_changer(o,"Fetch Data","fetch"),n.sheet_container.html("")}}):this.call_alert("Warning &#9888;&#65039;","<b>Form field is empty. Please fill out the field</b>","warning",3)}},{key:"changeBtnOnCondition",value:function(e){this.get_slug_parameter("id")?this.btn_changer(e,"Save Table","save"):(this.btn_changer(e,"Next Setting","next"),e.css({backgroundColor:"#f2711c"}),e.attr("id","next-setting"))}},{key:"goToNextSetting",value:function(t){var n=e(t.currentTarget),o=e("#gswpts_tabs .tabs > input:checked");"tab3"==o.attr("id")?(o.prop("checked",!1),o.next().prop("checked",!0),this.btn_changer(n,"Save Table","save"),n.css({backgroundColor:"#6435c9"}),n.attr("id","fetch_save_btn")):(o.prop("checked",!1),o.next().prop("checked",!0))}},{key:"copy_shorcode",value:function(t){var n=e(t.currentTarget).siblings("input");n.focus(),n.select(),document.execCommand("copy"),this.call_alert("Copied &#128077;","Sortcode copied successfully","info",2)}},{key:"clear_fields",value:function(){var t=this;this.sheet_form.find("input[name=file_input]").val(""),e(".edit_table_name").attr("disabled",!1),e("#table_name").val("GSWPTS Table"),e("#table_name").attr("disabled",!1),e("#tab1").prop("checked",!0),e("#gswpts_tabs ul li:not(:nth-child(1))").addClass("disabled_checkbox"),e(".tables_settings").unbind("click"),e(".secondary_inputs").attr("disabled",!0),e("#sheet_ui_card").transition("scale"),e("#create_tables_wrapper").transition("scale"),this.btn_changer(e("#fetch_save_btn"),"Fetch Data","fetch"),this.deleteParameter(),e(".input_fields > div:nth-child(2)").removeClass("hide-column"),e(".input_fields > div:nth-child(2) > div").removeClass("hidden"),e(".input_fields > div:nth-child(3)").removeClass("col-md-9").addClass("col-md-6"),setTimeout((function(){t.sheet_details.transition("scale"),e("#sheet_ui_card").remove(),e("#create_tables_wrapper").remove()}),300)}},{key:"push_parameter",value:function(e){var t=new URL(window.location);t.searchParams.set("id",e),window.history.pushState({},"",t)}},{key:"deleteParameter",value:function(){var e=new URL(window.location);e.searchParams.set("id",""),window.history.pushState({},"",e)}}])&&c(n.prototype,o),s}(t))})),jQuery(document).ready((function(e){new(function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,t);var n,o,r,a,i=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(a){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function s(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).events(),t}return n=s,(o=[{key:"events",value:function(){this.fetch_data_by_id()}},{key:"fetch_data_by_id",value:function(){var t=this;this.get_slug_parameter("id")&&e.ajax({url:file_url.admin_ajax,data:{action:"gswpts_sheet_fetch",id:this.get_slug_parameter("id")},type:"post",beforeSend:function(){e("#tab1").prop("checked",!0),e("#gswpts_tabs ul li:not(:nth-child(1))").addClass("disabled_checkbox")},success:function(n){var o=JSON.parse(n);console.log(o),"invalid_action"!=o.response_type&&"invalid_request"!=o.response_type||(t.sheet_container.html(""),t.call_alert("Error &#128683;",o.output,"error",4)),"success"==o.response_type&&(t.sheet_details.addClass("mt-4 p-0"),e("#gswpts_tabs ul li:not(:nth-child(1))").removeClass("disabled_checkbox"),setTimeout((function(){e(".edit_table_name").siblings("input[name=table_name]").val(o.table_data.table_name),e(".edit_table_name").parent().transition("fade up"),e("#table_type").dropdown("set selected",o.table_data.source_type),t.sheet_form.find("input[name=file_input]").val(o.table_data.source_url),t.sheet_details.html(t.sheet_details_html(o)),t.sheet_details.transition("scale"),t.show_shortcode(t.get_slug_parameter("id"))}),400),t.sheet_container.html(o.output),t.insertColumnValueToInput(o.tableColumns))},error:function(e){t.call_alert("Error &#128683;","<b>Something went wrong</b>","error",3),t.sheet_container.html("")},complete:function(n){if("success"==JSON.parse(n.responseText).response_type){var o=JSON.parse(JSON.parse(n.responseText).table_data.table_settings),r=JSON.parse(n.responseText).table_data.table_name,a='<"#filtering_input"'.concat("true"==o.show_x_entries?"l":"").concat("true"==o.search_bar?"f":"",'>rt<"#bottom_options"').concat("true"==o.show_info_block?"i":"","p>");t.isProPluginActive()&&(a='B<"#filtering_input"'.concat("true"==o.show_x_entries?"l":"").concat("true"==o.search_bar?"f":"",'>rt<"#bottom_options"').concat("true"==o.show_info_block?"i":"","p>"));var i="true"==o.swap_filter_inputs,s="true"==o.swap_bottom_options;t.reconfigure_input_fields(JSON.parse(JSON.parse(n.responseText).table_data.table_settings)),setTimeout((function(){var n={allowSorting:o.allow_sorting||"",cellFormat:o.cell_format||"",defaultRowsPerPage:o.default_rows_per_page||"",hideColumn:o.hide_column||"",redirectionType:o.redirection_type||"",responsiveStyle:o.responsive_style||"",searchBar:o.search_bar||"",showInfoBlock:o.show_info_block||"",showXEntries:o.show_x_entries||"",swapBottomOptions:o.swap_bottom_options||"",swapFilterInputs:o.swap_filter_inputs||"",tableCache:o.table_cache||"",tableExport:o.table_export||"",tableStyle:o.table_style||"",tableTitle:o.table_title||"",verticalScroll:o.vertical_scroll||"",hideRows:o.hide_rows||""};e("#create_tables").DataTable(t.table_object(r,a,n)),t.addDraggingAbility(),t.swap_filter_inputs(i),t.swap_bottom_options(s),t.manageHiddenRows(n.hideRows),"empty"!=o.table_export&&t.export_buttons_row_revealer(o.table_export),t.show_fetch_btn(),t.call_alert("Successfull &#128077;","<b>Google Sheet data fetched successfully</b>","success",3),t.isProPluginActive()||t.call_alert("Warning &#9888;&#65039;","<b>Live sync is limited to 50 rows.<br/><a target='blank' href='https://go.wppool.dev/DoC'>Upgrade to Pro</a> for showing full google sheet.</b>","warning",10)}),200)}}})}},{key:"show_fetch_btn",value:function(){e("#fetch_save_btn").hasClass("hidden")&&e("#fetch_save_btn").transition("scale")}},{key:"manageHiddenRows",value:function(e){var t=this;if(this.isProPluginActive()){if(!e)return;e.forEach((function(e){t.insertHiddenRowsToSelectBox(e)}))}}}])&&_(n.prototype,o),s}(t))})),jQuery(document).ready((function(e){new(function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(s,t);var n,o,r,a,i=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(r);if(a){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function s(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).table_container=e("#gswpts_tables_container"),t.checkbox_switcher=!1,t.events(),t}return n=s,(o=[{key:"events",value:function(){var t=this;this.fetch_data_by_page(),e(document).on("click",".gswpts_sortcode_copy",(function(e){t.copy_shorcode(e),t.higlightSortcodeText(e)})),e(document).on("click","#manage_tables_checkbox",(function(e){t.toggle_content(e)}))}},{key:"higlightSortcodeText",value:function(t){var n=e(t.currentTarget)[0];if(document.body.createTextRange){var o=document.body.createTextRange();o.moveToElementText(n),o.select()}else if(window.getSelection){var r=window.getSelection(),a=document.createRange();a.selectNodeContents(n),r.removeAllRanges(),r.addRange(a)}else console.warn("Could not select text in node: Unsupported browser.")}},{key:"fetch_data_by_page",value:function(){var t=this;this.get_slug_parameter("page")&&"gswpts-dashboard"===this.get_slug_parameter("page")&&"create-table"!=this.get_slug_parameter("subpage")&&e.ajax({url:file_url.admin_ajax,data:{action:"gswpts_table_fetch",page_slug:this.get_slug_parameter("page")},type:"post",success:function(e){"invalid_action"!=JSON.parse(e).response_type&&"invalid_request"!=JSON.parse(e).response_type||(t.table_container.html(""),t.call_alert("Error &#128683;",JSON.parse(e).output,"error",4)),"success"==JSON.parse(e).response_type&&t.table_container.html(JSON.parse(e).output)},error:function(e){t.call_alert("Error &#128683;","<b>Something went wrong</b>","error",3),t.sheet_container.html("")},complete:function(n){"success"==JSON.parse(n.responseText).response_type&&(e("#manage_tables").DataTable({columnDefs:[{targets:[0,5],orderable:!1}],bInfo:!1,order:[]}),setTimeout((function(){"true"==JSON.parse(n.responseText).no_data?t.call_alert("Warning &#9888;&#65039;","<b>No tables found. Create a new</b>","warning",3):t.call_alert("Successfull &#128077;","<b>All Tables Fetched Successfully</b>","success",3)}),700))}})}},{key:"toggle_content",value:function(t){"false"==e(t.currentTarget).attr("data-show")&&(e("#delete_button").transition("scale"),this.check_all_checkbox(),this.checkbox_switcher=!0),"true"==e(t.currentTarget).attr("data-show")&&(e("#delete_button").transition("scale"),setTimeout((function(){}),300),this.uncheck_all_checkbox(),this.checkbox_switcher=!1),e(t.currentTarget).attr("data-show",""+this.checkbox_switcher)}},{key:"check_all_checkbox",value:function(){e(".manage_tables_checkbox").prop("checked",!0)}},{key:"uncheck_all_checkbox",value:function(){e(".manage_tables_checkbox").prop("checked",!1)}}])&&g(n.prototype,o),s}(t))})),jQuery(document).ready((function(e){new(function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(s,t);var n,o,r,a,i=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(r);if(a){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return T(this,e)});function s(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).deleteBtn=e("#delete_button"),t.events(),t}return n=s,(o=[{key:"events",value:function(){var t=this;e(document).on("click",".gswpts_edit_table",(function(e){t.edit_table_name(e)})),e(document).on("click",".table_name_save",(function(e){t.update_table_name(e),t.edit_tag_value(e)})),e(document).on("click",".semntic-popup-modal .actions > .yes-btn",(function(n){var o=e(n.currentTarget).attr("data-id");t.delete_table(o)})),e(document).on("click",".gswpts_table_delete_btn",(function(n){var o=e(n.currentTarget).attr("data-id");t.initiatePopup({deleteAll:!1,id:o},n)})),this.deleteBtn.on("click",(function(e){t.initiatePopup({deleteAll:!0},e)}))}},{key:"initiatePopup",value:function(t,n){var o=this;e(".semntic-popup-modal").modal("show"),0==t.deleteAll&&e(".semntic-popup-modal .actions > .yes-btn").attr("data-id",t.id),document.querySelector(".semntic-popup-modal .actions > .yes-btn").addEventListener("click",(function(){t.deleteAll&&o.delete_all_table(n)}))}},{key:"update_table_name",value:function(t){var n=e(t.currentTarget).parent().parent().find(".table_name").text(),o={reqType:"update",table_id:e(t.currentTarget).attr("id"),table_name:n};console.log(o),this.ajax_request(o,t)}},{key:"delete_table",value:function(e){var t={reqType:"delete",table_id:e};this.ajax_request(t)}},{key:"delete_all_table",value:function(t){var n=e("input[name='manage_tables_checkbox']:checked"),o={reqType:"deleteAll"},r=[];e.each(n,(function(t,n){r.push(e(n).val())})),o.table_ids=r,o.table_ids.length>0?this.ajax_request(o,t):this.call_alert("Warning &#9888;&#65039;","<b>No table is selected to delete</b>","warning",3)}},{key:"ajax_request",value:function(t){var n,o=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n=e(null==r?"#table-".concat(t.table_id):r.currentTarget),e.ajax({url:file_url.admin_ajax,data:{action:"gswpts_ud_table",data:t},type:"post",beforeSend:function(){"update"==t.reqType&&n.html('\n                        <div class="ui active mini inline loader"></div>\n                    '),"delete"==t.reqType&&n.html('\n                        Deleting &nbsp;\n                        <div class="ui active mini inline loader"></div>\n                    '),"deleteAll"==t.reqType&&n.html('\n                        Deleting &nbsp;\n                        <div class="ui active mini inline loader"></div>\n                    ')},success:function(e){console.log(e),"invalid_action"!=JSON.parse(e).response_type&&"invalid_request"!=JSON.parse(e).response_type||o.call_alert("Error &#128683;",JSON.parse(e).output,"error",4),"updated"==JSON.parse(e).response_type&&(n.html('\n                            <img src="'.concat(file_url.renameIcon,'" width="24px" height="15px" alt="rename-icon"/>\n                        ')),o.call_alert("Successfull &#128077;",JSON.parse(e).output,"success",3)),"deleted"==JSON.parse(e).response_type&&(n.html("Deleted"),n.parent().parent().transition("fade"),o.call_alert("Successfull &#128077;",JSON.parse(e).output,"success",3)),"deleted_All"==JSON.parse(e).response_type&&(o.remove_seleted_tables(),n.html("Delete Selected"),o.call_alert("Successfull &#128077;",JSON.parse(e).output,"success",3))},error:function(e){o.call_alert("Error &#128683;","<b>Something went wrong</b>","error",3)}})}},{key:"remove_seleted_tables",value:function(){var t=e("input[name='manage_tables_checkbox']:checked");e.each(t,(function(t,n){e(n).parent().parent().transition("fade")})),setTimeout((function(){e.each(t,(function(t,n){e(n).parent().parent().remove()}))}),300)}},{key:"edit_table_name",value:function(t){var n=e(t.currentTarget);n.addClass("table_name_save"),n.html('\n                <i class="save icon"></i>\n            ');var o=n.siblings("a");o.css({cursor:"auto"}),o.attr("contentEditable",!0),o.focus(),o.unbind("click")}},{key:"edit_tag_value",value:function(t){var n=e(t.currentTarget);n.removeClass("table_name_save");var o=n.siblings("a");o.css({cursor:"pointer"}),o.attr("contentEditable",!1),o.focusout(),o.blur(),o.bind("click")}}])&&S(n.prototype,o),s}(t))})),jQuery(document).ready((function(e){new(function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(s,t);var n,o,r,a,i=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=N(r);if(a){var n=N(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return j(this,e)});function s(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).promo_close_btn=e(".promo_close_btn"),t.proInputSelect=e(".pro_input_select"),t.modalHandler=e(".modal-handler").parents(".card"),t.tableStyleActionBtn=e(".styleModal .svg_icons, .styleModal .actions > .button"),t.tableStylesInput=e(".styleModal .body input"),t.hideColumnActionBtns=e(".hide-column-modal-wrapper .gswpts-hide-modal .svg_icons, .hide-column-modal-wrapper .gswpts-hide-modal .actions > .button"),t.hideRowsActionBtns=e(".hide-rows-modal-wrapper .gswpts-hide-modal .svg_icons, .hide-rows-modal-wrapper .gswpts-hide-modal .actions > .button"),t.hideRowsActivator=e("#active_hide_rows"),t.hiddenRowsInput=e("#hidden_rows"),t.events(),t}return n=s,(o=[{key:"events",value:function(){var t=this;e(document).on("click",".tables_settings",(function(e){t.change_btn_text(e)})),e(document).on("click","#gswpts_tabs .tabs > input",(function(e){t.changeBtnOnCondition(e)})),this.add_select_box_style(),this.settings_field.on("change",(function(e){t.update_table_by_changes(e)})),e(document).on("click",".pro_feature_input",(function(e){t.pro_feature_popup(e)})),this.proInputSelect.on("click",(function(e){t.revertBacktoInitialValue(e)})),this.promo_close_btn.on("click",(function(e){t.close_promo_popup(e)})),this.modalHandler.on("click",(function(n){var o=e(n.currentTarget).find("input");if("table_style"===o.attr("id")){var r=e(".tableStyleModal"),a=e(".styleModal");t.handleModal(r,a)}if("hide_column"===o.attr("id")){var i=e(".hide-column-modal-wrapper"),s=e(".hide-column-modal-wrapper .gswpts-hide-modal");t.handleModal(i,s)}if("hide_rows"===o.attr("id")){var c=e(".hide-rows-modal-wrapper"),l=e(".hide-rows-modal-wrapper .gswpts-hide-modal");t.handleModal(c,l)}})),this.tableStyleActionBtn.on("click",(function(n){var o=e(n.currentTarget);if(e(".tableStyleModal").removeClass("active"),e(".styleModal").transition("scale"),t.isProPluginActive()&&o.hasClass("selectBtn")){var r=e(".styleModal .body label.active input");e("#table_style").val(r.val()),t.tableStyle(r.val())}})),this.tableStylesInput.on("click",(function(t){var n=e(t.currentTarget);e(".styleModal .body label").removeClass("active"),n.parent().toggleClass("active"),e(".styleModal .body label .pro_feature_promo").removeClass("active"),n.parent().find(".pro_feature_promo").addClass("active")})),this.hideColumnActionBtns.on("click",(function(e){t.hideColumnActionCallback(e)})),this.hideRowsActionBtns.on("click",(function(e){t.hideRowsActionCallback(e)})),e("#redirection_type > input:nth-child(1)").on("change",(function(e){t.update_table_by_changes(e)})),this.hideRowsActivator.on("click",(function(e){t.hideRowsActionCallback(e)})),this.hiddenRowsInput.on("click",(function(e){t.handleRowsVisibility(e)})),e(document).on("click",".ui.stackable.pagination.menu .paginate_button",(function(e){t.showTableRows(e)}))}},{key:"changeBtnOnCondition",value:function(t){this.get_slug_parameter("id")||("tab4"==e(t.currentTarget).attr("id")?this.btnAttAndTextChanger({selector:"#next-setting",btnText:"Save Table",btnAttribute:"save",btnBackgroundColor:"#6435c9",btnId:"fetch_save_btn"}):this.btnAttAndTextChanger({selector:"#fetch_save_btn",btnText:"Next Setting",btnAttribute:"next",btnBackgroundColor:"#f2711c",btnId:"next-setting"}))}},{key:"btnAttAndTextChanger",value:function(t){var n=e(t.selector);this.btn_changer(n,t.btnText,t.btnAttribute),n.css({backgroundColor:t.btnBackgroundColor}),n.attr("id",t.btnId)}},{key:"change_btn_text",value:function(t){var n=e(t.currentTarget).attr("data-btn-text"),o=e(t.currentTarget).attr("data-attr-text");e("#fetch_save_btn").html(n),e("#fetch_save_btn").attr("req-type",o)}},{key:"add_select_box_style",value:function(){e("#rows_per_page").length&&e("#rows_per_page").dropdown(),e("#table_exporting_container").length&&e("#table_exporting_container").dropdown()}},{key:"update_table_by_changes",value:function(t){var n=this,o=this.table_settings_obj();"table_exporting"==e(t.currentTarget).attr("id")&&this.isProPluginActive()&&["json","pdf","csv","excel","print","copy"].forEach((function(e){n.button_reavealer(t,e)})),e(t.currentTarget).attr("id"),this.isProPluginActive()&&(this.export_buttons_row_revealer(o.tableExport),this.changeCellFormat(o.cellFormat,"#spreadsheet_container")),this.reFormatTable(),this.swap_filter_inputs(o.swapFilterInputs),this.swap_bottom_options(o.swapBottomOptions),"swap_filter_inputs"==e(t.currentTarget).attr("id")&&this.swap_filter_inputs(e(t.currentTarget).prop("checked")),"swap_bottom_options"==e(t.currentTarget).attr("id")&&this.swap_bottom_options(e(t.currentTarget).prop("checked")),this.isProPluginActive()&&"redirection_type"==e(t.currentTarget).attr("name")&&this.changeRedirectionType(o.redirectionType),this.addDraggingAbility()}},{key:"reFormatTable",value:function(){var t=this.table_settings_obj(),n='<"#filtering_input"'.concat(t.showXEntries?"l":"").concat(t.searchBar?"f":"",'>rt<"#bottom_options"').concat(t.showInfoBlock?"i":"","p>");this.isProPluginActive()&&(n='B<"#filtering_input"'.concat(t.showXEntries?"l":"").concat(t.searchBar?"f":"",'>rt<"#bottom_options"').concat(t.showInfoBlock?"i":"","p>"));var o=e("#table_name").val();this.table_changer(o,t,n)}},{key:"changeRedirectionType",value:function(t){var n=e("#create_tables a");n.length&&e.each(n,(function(n,o){e(o).attr("target",t)}))}},{key:"button_reavealer",value:function(t,n){if(e(t.currentTarget).val().includes(n)){if(e("."+n+"_btn").hasClass("hidden"))return void e("."+n+"_btn").transition("scale")}else if(e("."+n+"_btn").hasClass("visible"))return void e("."+n+"_btn").transition("scale")}},{key:"pro_feature_popup",value:function(t){var n=e(t.currentTarget),o=n.parents(".gswpts_create_table_container").find(".promo_large");o.css({opacity:1}),o.find(".popup-box").css({"margin-top":"".concat(e(document).scrollTop()+50,"px")}),o.addClass("active"),n.prop("checked",!1)}},{key:"close_promo_popup",value:function(t){e(t.currentTarget).parents(".card").find(".pro_feature_promo").removeClass("active")}},{key:"revertBacktoInitialValue",value:function(t){var n=e(t.currentTarget).parents(".selection.dropdown"),o=n.find("input").val(),r=n.find(".text").text();setTimeout((function(){o?n.dropdown("set selected",o):(n.find("input").val(""),n.find(".text").addClass("default").html(r),n.dropdown())}),200)}},{key:"handleModal",value:function(t,n){t.addClass("active"),n.transition("scale"),n.css({"margin-top":"".concat(e(document).scrollTop()+100,"px")})}},{key:"hideColumnActionCallback",value:function(t){var n=e(t.currentTarget);if(e(".hide-column-modal-wrapper").removeClass("active"),e(".hide-column-modal-wrapper .gswpts-hide-modal").transition("scale"),this.isProPluginActive()&&n.hasClass("selectBtn")){var o=e("#desktop-hide-columns"),r=e("#mobile-hide-columns"),a={desktopValues:o.find("input").val()?o.find("input").val().split(","):null,mobileValues:r.find("input").val()?r.find("input").val().split(","):null};e("#hide_column").val(JSON.stringify(a)),this.reFormatTable(),this.addDraggingAbility()}}},{key:"hideRowsActionCallback",value:function(t){var n=this,o=e(t.currentTarget);if(e(".hide-rows-modal-wrapper").removeClass("active"),e(".hide-rows-modal-wrapper .gswpts-hide-modal").transition("scale"),this.isProPluginActive()&&o.hasClass("selectBtn")){var r=e(".dataTables_scrollBody table tbody"),a=e(".dataTables_scrollBody table tr");o.prop("checked")?(r.addClass("hiding_active"),a.addClass("gswpts_rows"),e(document).on("click",".dataTables_scrollBody table .gswpts_rows",(function(t){var o=e(t.currentTarget),r=o.attr("data-index");n.insertHiddenRowsToSelectBox(r),n.insertHiddenRowsToInputBox(r),o.hide(300)}))):(r.removeClass("hiding_active"),a.removeClass("gswpts_rows"))}}},{key:"handleRowsVisibility",value:function(t){var n=e(t.currentTarget),o=n.find(".menu .item:not(.active)");o&&e.each(o,(function(t,o){var r=e(o).attr("data-value");e(".dataTables_scrollBody table tbody .row_".concat(r)).show(300);var a,i=[],s=e("#hide_rows");if(s.val()){var c=(i=JSON.parse(s.val())).indexOf(r);-1!=c&&(i.splice(c,1),a=JSON.stringify(i),s.val(a))}setTimeout((function(){n.find(".menu [data-value=".concat(r,"]")).remove()}),200)}))}},{key:"showTableRows",value:function(t){var n=e(".dataTables_scrollBody table .gswpts_rows");n&&e.each(n,(function(t,n){var o=e(n).attr("data-index");0==e("#hidden_rows > [data-value=".concat(o,"]")).length&&e(n).show(300)}))}}])&&P(n.prototype,o),s}(t))})),jQuery(document).ready((function(e){new(function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(s,t);var n,o,r,a,i=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(r);if(a){var n=D(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return J(this,e)});function s(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).settings_checkbox=e(".settings_row input[type=checkbox]"),t.pro_settings=e(".pro_setting"),t.large_promo_close=e(".large_promo_close"),t.events(),t}return n=s,(o=[{key:"events",value:function(){var t=this;this.settings_checkbox.on("change",(function(n){var o=e(n.currentTarget);o.parents(".card").find(".settings_desc"),"custom_css"==o.attr("id")&&t.removeCodeEditorRestriction(o)})),this.pro_settings.on("click",(function(e){t.activate_promo(e)})),this.large_promo_close.on("click",(function(e){t.close_promo(e)})),"gswpts-general-settings"==this.get_slug_parameter("page")&&this.initiateCodeEditor()}},{key:"removeCodeEditorRestriction",value:function(e){var t=e.parents(".card").find("#gswptsCSSeditor");e.prop("checked")?t.css({opacity:"1","pointer-events":"all"}):t.css({opacity:"0.5","pointer-events":"none"})}},{key:"initiateCodeEditor",value:function(){var t=ace.edit("gswptsCSSeditor",{selectionStyle:"text"}),n=e("#css_code_value");t.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,showPrintMargin:!1,maxLines:1/0,fontSize:"100%"}),t.setTheme("ace/theme/vibrant_ink"),t.renderer.setOption("showLineNumbers",!0),t.getSession().setUseWrapMode(!0),t.setShowPrintMargin(!1),t.setOptions({autoScrollEditorIntoView:!0}),t.setOption("mergeUndoDeltas","always"),t.getSession().setMode("ace/mode/css"),t.setValue(n.val()),t.clearSelection(),t.on("change",(function(e){var o=t.getValue();n.val(o)}))}},{key:"show_settings_desc",value:function(e){e.hasClass("pro_setting")||e.parents(".card").find(".settings_desc").transition("fade down")}},{key:"activate_promo",value:function(t){var n=e(t.currentTarget);n.prop("checked",!1),this.changeButtonTextLinks(t);var o=n.parents(".dash_boxes").find(".promo_large");o.addClass("active"),o.css({opacity:1})}},{key:"changeButtonTextLinks",value:function(t){var n=e(t.currentTarget),o=n.parents(".dash_boxes").find(".promo_large .promo_inner a");n.hasClass("upcoming_setting")?o.html("Upcoming"):o.html("Buy now")}},{key:"close_promo",value:function(t){var n=e(t.currentTarget).parents(".promo_large");n.removeClass("active"),n.css({opacity:0})}}])&&E(n.prototype,o),s}(t))})),jQuery(document).ready((function(e){e(".gswpts_loader").length&&(e(".gswpts_loader").transition("fade"),setTimeout((function(){e(".dashboard_content, .manage_table_content, .create_table_content, .settings_content").transition("fade")}),300))}))}();
//# sourceMappingURL=admin.min.js.map