!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var t=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,a;return n=t,(a=[{key:"table_configuration",value:function(e,t,n,a,o){var r='<"filtering_input filtering_input_'.concat(t,'"').concat("true"==o.show_x_entries?"l":"").concat("true"==o.search_bar?"f":"",'>rt<"bottom_options bottom_options_').concat(t,'"').concat("true"==o.show_info_block?"i":"","p>");this.isProPluginActive()&&(r='B<"filtering_input filtering_input_'.concat(t,'"').concat("true"==o.show_x_entries?"l":"").concat("true"==o.search_bar?"f":"",'>rt<"bottom_options bottom_options_').concat(t,'"').concat("true"==o.show_info_block?"i":"","p>"),this.changeCellFormat(o.cell_format,e(n).find("#create_tables th, td"),e),this.changeRedirectionType(o.redirection_type,e(n).find("#create_tables a"),e)),e(n).find("#create_tables").DataTable(this.table_obj(e,a,o,r)),this.isProPluginActive()&&this.reveal_export_btns(e,n,o),this.swap_input_filter(e,t,o),this.swap_bottom_options(e,t,o)}},{key:"changeRedirectionType",value:function(e,t,n){t.length&&n.each(t,(function(t,a){n(a).attr("target",e)}))}},{key:"changeCellFormat",value:function(e,t,n){switch(e){case"wrap":n.each(t,(function(e,t){n(t).removeClass("clip_style"),n(t).removeClass("expanded_style"),n(t).addClass("wrap_style")}));break;case"clip":n.each(t,(function(e,t){n(t).removeClass("wrap_style"),n(t).removeClass("expanded_style"),n(t).addClass("clip_style")}));break;case"expand":n.each(t,(function(e,t){n(t).removeClass("clip_style"),n(t).removeClass("wrap_style"),n(t).addClass("expanded_style")}))}}},{key:"isProPluginActive",value:function(){return!!front_end_data.isProActive}},{key:"table_obj",value:function(e,t,n,a){var o={dom:a,order:[],responsive:!0,lengthMenu:[[1,5,10,15],[1,5,10,15]],pageLength:parseInt(n.default_rows_per_page),lengthChange:!0,ordering:"true"==n.allow_sorting,destroy:!0,scrollX:!0};return this.isProPluginActive()&&(o.buttons=[{text:'JSON &nbsp;<img src="'.concat(front_end_data.iconsURL.curlyBrackets,'" />'),className:"ui inverted yellow button export_btns json_btn",action:function(n,a,o,r){var i=a.buttons.exportData();e.fn.dataTable.fileSave(new Blob([JSON.stringify(i)]),"".concat(t,".json"))}},{text:'PDF &nbsp;<img src="'.concat(front_end_data.iconsURL.filePdf,'" />'),extend:"pdf",className:"ui inverted red button export_btns pdf_btn",title:"".concat(t)},{text:'CSV &nbsp;<img src="'.concat(front_end_data.iconsURL.fileCSV,'" />'),extend:"csv",className:"ui inverted green button export_btns csv_btn",title:"".concat(t)},{text:'Excel &nbsp;<img src="'.concat(front_end_data.iconsURL.fileExcel,'" />'),extend:"excel",className:"ui inverted green button export_btns excel_btn",title:"".concat(t)},{text:'Print &nbsp;<img src="'.concat(front_end_data.iconsURL.printIcon,'" />'),extend:"print",className:"ui inverted secondary button export_btns print_btn",title:"".concat(t)},{text:'Copy &nbsp;<img src="'.concat(front_end_data.iconsURL.copySolid,'" />'),extend:"copy",className:"ui inverted violet button export_btns copy_btn",title:"".concat(t)}],o.lengthMenu=[[1,5,10,15,25,50,100,-1],[1,5,10,15,25,50,100,"All"]],"default"!=o.scrollY&&(o.scrollY="".concat(n.vertical_scroll,"px")),"desktop"===this.screenSize()?n.hide_column&&(o.columnDefs=this.hideColumnByScreen(n.hide_column.desktopValues)):n.hide_column&&(o.columnDefs=this.hideColumnByScreen(n.hide_column.mobileValues))),o}},{key:"hideColumnByScreen",value:function(e){return[{targets:this.convertArrayStringToInteger(e),visible:!1,searchable:!1}]}},{key:"screenSize",value:function(){return screen.width>740?"desktop":"mobile"}},{key:"convertArrayStringToInteger",value:function(e){return e?e.map((function(e){return parseInt(e)})):[]}},{key:"reveal_export_btns",value:function(e,t,n){if(n){var a=n.table_export;"empty"!=a&&a&&a.forEach((function(n){e(t).find("."+n+"_btn").removeClass("export_btns")}))}}},{key:"swap_input_filter",value:function(e,t,n){"true"==n.swap_filter_inputs?(e(".filtering_input_"+t).css("flex-direction","row-reverse"),e(".filtering_input_"+t+" > #create_tables_length").css({"margin-right":"0","margin-left":"auto"}),e(".filtering_input_"+t+" > #create_tables_filter").css({"margin-left":"0","margin-right":"auto"})):(e(".filtering_input_"+t).css("flex-direction","row"),e(".filtering_input_"+t+" > #create_tables_length").css({"margin-right":"auto","margin-left":"0"}),e(".filtering_input_"+t+" > #create_tables_filter").css({"margin-left":"auto","margin-right":"0"}))}},{key:"swap_bottom_options",value:function(e,t,n){var a={flex_direction:"row-reverse",table_info_style:{margin_left:"auto",margin_right:0},table_paginate_style:{margin_left:0,margin_right:"auto"}};"true"==n.swap_bottom_options||(a.flex_direction="row",a.table_info_style.margin_left=0,a.table_info_style.margin_right="auto",a.table_paginate_style.margin_left="auto",a.table_paginate_style.margin_right=0),this.bottom_option_style(e,a,t)}},{key:"bottom_option_style",value:function(e,t,n){e(".bottom_options_"+n).css("flex-direction",t.flex_direction),e(".bottom_options_"+n+" > #create_tables_info").css({"margin-left":t.table_info_style.margin_left,"margin-right":t.table_info_style.margin_right}),e(".bottom_options_"+n+" > #create_tables_paginate").css({"margin-left":t.table_paginate_style.margin_left,"margin-right":t.table_paginate_style.margin_right})}},{key:"html_loader",value:function(){return'\n               <div class="ui segment gswpts_table_loader">\n                        <div class="ui active inverted dimmer">\n                            <div class="ui large text loader">Loading</div>\n                        </div>\n                        <p></p>\n                        <p></p>\n                        <p></p>\n                </div>\n            '}},{key:"clearOverflow",value:function(){if(/Android|webOS|iPhone|iPad|Mac|Macintosh|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&("Chrome"==this.detectBrowser()||"Safari"==this.detectBrowser()||"MSIE"==this.detectBrowser())){var e=document.querySelectorAll(".gswpts_tables_container .dataTables_scrollBody");e&&e.forEach((function(e){e.parentElement.parentElement.parentElement.parentElement.classList.contains("collapse_style")&&(e.style.overflow="unset",e.style.height="unset",e.style.maxHeight="unset")}))}}},{key:"detectBrowser",value:function(){return-1!=(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))?"Opera":-1!=navigator.userAgent.indexOf("Chrome")?"Chrome":-1!=navigator.userAgent.indexOf("Safari")?"Safari":-1!=navigator.userAgent.indexOf("Firefox")?"Firefox":-1!=navigator.userAgent.indexOf("MSIE")||1==!!document.documentMode?"IE":"Unknown"}},{key:"hideEmptyCell",value:function(){var e=document.querySelectorAll(".gswpts_tables_container td");e&&e.forEach((function(e){""==e.innerText&&(e.innerText="No data")}))}},{key:"bindDragScroll",value:function(e,t){var n=$(window),a=0,o=0,r=0,i=0;function s(n){if(e.hasClass("down")){var o=n.pageX,r=(n.pageY,o-a);t[0].scrollLeft-=r,a=o}}function l(a){n.off("mousemove",s),n.off("mouseup",l);var c=Date.now()-i,_=a.pageX-o,u=a.pageY-r;c<=300&&t.stop().animate({scrollTop:"-="+3*u,scrollLeft:"-="+3*_},500,(function(e,t,n,a,o){return a*Math.sqrt(1-(t=t/o-1)*t)+n})),i=0,e.removeClass("down")}e.on("mousedown",(function(t){0===t.button&&(i=Date.now(),a=o=t.pageX,r=t.pageY,e.addClass("down"),n.on("mousemove",s),n.on("mouseup",l),t.preventDefault())})),e.on("click",(function(e){if(o!==e.pageX||r!==e.pageY)return e.preventDefault(),!1})),t.on("mousewheel",(function(e){e=e.originalEvent;var n=t.scrollLeft(),a=t[0].scrollWidth-t[0].offsetWidth,o=e.deltaX||e.wheelDeltaX;(o>0?n>=a:n<=0)&&o&&e.preventDefault()}))}},{key:"addGrabCursonOnMouseDown",value:function(e){e.mousedown((function(t){e.css({cursor:"grab"})})),e.mouseup((function(t){e.css({cursor:"auto"})}))}}])&&e(n.prototype,a),t}();function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}front_end_data.isProActive?$(document).ready((function(){new(function(){function e(){n(this,e),this.frontend_table=$(".gswpts_tables_container"),"on"==front_end_data.asynchronous_loading&&this.events()}return o(e,[{key:"events",value:function(){this.get_frontend_table()}},{key:"get_frontend_table",value:function(){$.each(this.frontend_table,(function(e,n){var a=$(n).attr("id");$.ajax({url:front_end_data.admin_ajax,data:{action:"gswpts_sheet_fetch",id:a},type:"post",success:function(a){console.log(JSON.parse(a));var o=new t;if("success"==JSON.parse(a).response_type){var r=JSON.parse(JSON.parse(a).table_data.table_settings);o.isProPluginActive()&&(r.responsive_style&&$(n).addClass(r.responsive_style),$(n).addClass("gswpts_".concat(r.table_style?r.table_style:"default-style"))),"true"==r.table_title&&$(n).find("h3").html(JSON.parse(a).table_data.table_name),$(n).find(".gswpts_tables_content").html(JSON.parse(a).output);var i=JSON.parse(a).table_data.table_name;o.table_configuration($,e,n,i,r);var s=$(n).find(".dataTables_scroll"),l=$(n).find(".dataTables_scrollBody");o.bindDragScroll(s,l),o.addGrabCursonOnMouseDown($(n).find("#create_tables")),o.clearOverflow()}else $(n).find(".gswpts_tables_content").html("<strong>Table could not be loaded. Try again</strong>")},error:function(e){alert("Something went wrong"),console.log(e),$(n).find(".gswpts_tables_content").html("<strong>Table could not be loaded. Try again</strong>")}})}))}}]),e}())})):jQuery(document).ready((function(e){new(function(){function a(){n(this,a),this.frontend_table=e(".gswpts_tables_container"),"on"==front_end_data.asynchronous_loading&&this.events()}return o(a,[{key:"events",value:function(){this.get_frontend_table()}},{key:"get_frontend_table",value:function(){e.each(this.frontend_table,(function(n,a){var o=e(a).attr("id");e.ajax({url:front_end_data.admin_ajax,data:{action:"gswpts_sheet_fetch",id:o},type:"post",success:function(o){if("success"==JSON.parse(o).response_type){var r=JSON.parse(JSON.parse(o).table_data.table_settings);r.responsive_style&&e(a).addClass(r.responsive_style),"true"==r.table_title&&e(a).find("h3").html(JSON.parse(o).table_data.table_name),e(a).find(".gswpts_tables_content").html(JSON.parse(o).output);var i=JSON.parse(o).table_data.table_name,s=new t;s.table_configuration(e,n,a,i,r),s.clearOverflow()}else e(a).find(".gswpts_tables_content").html("<strong>Table could not be loaded. Try again</strong>")},error:function(t){alert("Something went wrong"),console.log(t),e(a).find(".gswpts_tables_content").html("<strong>Table could not be loaded. Try again</strong>")}})}))}}]),a}())})),front_end_data.isProActive?$(document).ready((function(){new(function(){function e(){r(this,e),this.frontend_table=$(".gswpts_tables_container"),"off"==front_end_data.asynchronous_loading&&this.events()}return s(e,[{key:"events",value:function(){this.get_frontend_table()}},{key:"get_frontend_table",value:function(){$.each(this.frontend_table,(function(e,n){var a=JSON.parse($(n).attr("data-table_settings")),o=$(n).attr("data-table_name"),r=new t;r.table_configuration($,e,n,o,a);var i=$(n).find(".dataTables_scroll"),s=$(n).find(".dataTables_scrollBody");r.bindDragScroll(i,s),r.addGrabCursonOnMouseDown($(n).find("#create_tables")),r.clearOverflow()}))}}]),e}())})):jQuery(document).ready((function(e){new(function(){function n(){r(this,n),this.frontend_table=e(".gswpts_tables_container"),"off"==front_end_data.asynchronous_loading&&this.events()}return s(n,[{key:"events",value:function(){this.get_frontend_table()}},{key:"get_frontend_table",value:function(){e.each(this.frontend_table,(function(n,a){var o=JSON.parse(e(a).attr("data-table_settings")),r=e(a).attr("data-table_name"),i=new t;i.table_configuration(e,n,a,r,o),i.clearOverflow()}))}}]),n}())}))}();
//# sourceMappingURL=frontend.min.js.map